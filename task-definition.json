[
    {
      "name": "${name}",
      "image": "${image}",
      "cpu": ${cpu},
      "memory": ${mem},
      "portmappings": [
        {
          "containerport": ${port},
          "protocol": "tcp"
        }
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "${name}",
          "awslogs-region": "${region}",
          "awslogs-stream-prefix": "${name}"
        }
      },
      %{~ if volume_type == "efs" ~}
      "mountPoints": [
        {
          "sourceVolume": "storage-${name}",
          "containerPath": "/mount/efs"
        }
      ],
      %{~ endif ~}
      "essential": true
  }
]
